# AEGIS Global BGP Configuration
# This file contains network-wide settings shared by all edge nodes

# AEGIS Autonomous System Number
# Replace with your actual AS number (private: 64512-65534, or public)
as_number: 64512

# Anycast prefixes announced by all edge nodes
# Users are routed to the nearest healthy node via BGP
anycast_v4: 203.0.113.0/24
anycast_v6: 2001:db8::/32

# RPKI (Resource Public Key Infrastructure) configuration
# Validates route origins to prevent BGP hijacking
rpki:
  enabled: true
  validator_host: 127.0.0.1  # Local Routinator instance
  validator_port: 3323        # RTR protocol port

# BFD (Bidirectional Forwarding Detection) for fast failover
# Detects link failures in <300ms instead of BGP holdtime (90s)
bfd:
  enabled: true
  min_rx_interval: 100   # milliseconds
  min_tx_interval: 100
  multiplier: 3          # 3 missed packets = failure

# BGP session timers
bgp_timers:
  hold: 90               # seconds
  keepalive: 30
  connect_retry: 30

# Route limits to prevent route leak attacks
route_limits:
  max_import: 10000      # Maximum routes to accept from peers
  max_export: 10         # Maximum routes to announce (should be ~1)

# BGP communities for traffic engineering
communities:
  edge_node: "64512:1"          # Routes from edge nodes
  do_not_advertise: "64512:666" # Do not announce to peers
  blackhole: "64512:999"        # Trigger remote blackholing

# Enable verbose debug logging (disable in production)
debug: false
